5.3 JSON Schema Test Suite: Complementary Evaluation
Originally designed to test the correctness and compliance of JSON Schema validation implementations the official JSON Schema Test Suite~\cite{bib.bib17} is a comprehensive collection of test cases spanning the many features of the JSON Schema specification. We believe that the test suite is an ideal tool for assessing the correctness of grammar engines.
 The test suite organizes its test cases into 45 categories each of which corresponds to a feature of JSON Schema typically a specific keyword such as required or group of tightly related keywords such as if-then-else. A small number of additional categories test broader behaviors such as infinite-loop-detection. Each test case contains a single schema paired with a collection of JSON instances that are marked as either valid or invalid under that schema. For the purpose of evaluating coverage we assert that an engine must successfully generate each valid instance and block generation of each invalid instance to “pass” a test case. In addition to compilation failures we define two failure modes that a grammar engine can exhibit:
 Definition 5.4 (Over-constrained)
 A framework is over-constrained if it rejects JSON instances that are valid according to a given JSON Schema. This means the engine is too strict and excludes outputs that should be allowed.
 Definition 5.5 (Under-constrained)
 A framework is under-constrained if it allows JSON instances that are invalid according to a given JSON Schema. This means the engine is overly permissive and allows outputs that should be rejected.
 An illustration is given in Figure 5[ref_id]A4.F5 in Appendix D[ref_id]A4. Over-constrained grammar engines risk limiting the expressive power of LMs potentially preventing the generation of valid responses and negatively impacting downstream task performance. Conversely under-constrained engines cannot guarantee that all responses will be valid often necessitating additional post-processing or retry logic.


## Section References
[bib.bib17] JSON Schema Org (2024) JSON Schema Org. Json schema test suite. https://github.com/json-schema-org/JSON-Schema-Test-Suite 2024. URL https://github.com/json-schema-org/JSON-Schema-Test-Suite. Accessed: 2024-12-19.